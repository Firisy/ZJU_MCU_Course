ORG 0000H
SJMP START
ORG 0080H

START:
MOV R5,#0FEH
MOV R6,#20H
LOOP:
     MOV A,#00H
     MOV P1,A
     CALL DELAY
     MOV A, #0FFH
     MOV P1,A
     MOV A,R5
     CALL DELAY2
     INC R6
     DEC R5
     CJNE R5,#20H,LOOP

MOV R5,#20H
MOV R6,#0FEH

LOOP2:
      MOV A,#00H
      MOV P1,A
      MOV A,R6
      CALL DELAY
      MOV A, #0FFH
      MOV P1,A
      MOV A,R5
      CALL DELAY2
      INC R5
      DEC R6
      CJNE R5,#0FEH,LOOP2

JMP START

DELAY:MOV R3,A
D1:MOV R4,#20
DJNZ R4,$
DJNZ R3,D1
RET

DELAY2: MOV R3,A
D2: MOV R4,#20H
DJNZ R4,$
DJNZ R3,D2
RET

END
